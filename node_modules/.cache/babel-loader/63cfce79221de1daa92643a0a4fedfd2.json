{"ast":null,"code":"import _slicedToArray from\"/Users/alineclaudio/Desktop/SheCodes/react-weather-app-new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import WeatherInfo from\"./WeatherInfo\";import axios from\"axios\";import\"./Weather.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Weather(props){var _useState=useState(props.defaultCity),_useState2=_slicedToArray(_useState,2),city=_useState2[0],setCity=_useState2[1];var _useState3=useState({ready:false}),_useState4=_slicedToArray(_useState3,2),weatherData=_useState4[0],setWeatherData=_useState4[1];function handleResponse(response){setWeatherData({ready:true,temperature:response.data.main.temp,humidity:response.data.main.humidity,date:new Date(response.data.dt*1000),description:response.data.weather[0].description,icon:response.data.weather[0].icon,wind:response.data.wind.speed,city:response.data.name});}function search(){var apiKey=\"3a5b83d2290ca8aeea736a82a10e7ea7\";var apiUrl=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\"&appid=\").concat(apiKey,\"&units=metric\");axios.get(apiUrl).then(handleResponse);}function handleSubmit(event){event.preventDefault();search();}function handleCityChange(event){setCity(event.target.value);}if(weatherData.ready){return/*#__PURE__*/_jsxs(\"div\",{className:\"Weather\",children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Search city...\",className:\"form-control\",autoFocus:\"on\",onChange:handleCityChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Search\",className:\"btn btn-primary w-100\"})})]})}),/*#__PURE__*/_jsx(WeatherInfo,{data:weatherData})]});}else{search();return\"Loading...\";}}","map":{"version":3,"sources":["/Users/alineclaudio/Desktop/SheCodes/react-weather-app-new/src/Weather.js"],"names":["React","useState","WeatherInfo","axios","Weather","props","defaultCity","city","setCity","ready","weatherData","setWeatherData","handleResponse","response","temperature","data","main","temp","humidity","date","Date","dt","description","weather","icon","wind","speed","name","search","apiKey","apiUrl","get","then","handleSubmit","event","preventDefault","handleCityChange","target","value"],"mappings":"iLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,eAAP,C,wFAEA,cAAe,SAASC,CAAAA,OAAT,CAAiBC,KAAjB,CAAwB,eACbJ,QAAQ,CAACI,KAAK,CAACC,WAAP,CADK,wCAC9BC,IAD8B,eACxBC,OADwB,8BAEDP,QAAQ,CAAC,CAACQ,KAAK,CAAE,KAAR,CAAD,CAFP,yCAEhCC,WAFgC,eAEnBC,cAFmB,eAGvC,QAASC,CAAAA,cAAT,CAAwBC,QAAxB,CAAkC,CAChCF,cAAc,CAAC,CACbF,KAAK,CAAE,IADM,CAEbK,WAAW,CAAED,QAAQ,CAACE,IAAT,CAAcC,IAAd,CAAmBC,IAFnB,CAGbC,QAAQ,CAAEL,QAAQ,CAACE,IAAT,CAAcC,IAAd,CAAmBE,QAHhB,CAIbC,IAAI,CAAE,GAAIC,CAAAA,IAAJ,CAASP,QAAQ,CAACE,IAAT,CAAcM,EAAd,CAAmB,IAA5B,CAJO,CAKbC,WAAW,CAAET,QAAQ,CAACE,IAAT,CAAcQ,OAAd,CAAsB,CAAtB,EAAyBD,WALzB,CAMbE,IAAI,CAAEX,QAAQ,CAACE,IAAT,CAAcQ,OAAd,CAAsB,CAAtB,EAAyBC,IANlB,CAObC,IAAI,CAAEZ,QAAQ,CAACE,IAAT,CAAcU,IAAd,CAAmBC,KAPZ,CAQbnB,IAAI,CAAEM,QAAQ,CAACE,IAAT,CAAcY,IARP,CAAD,CAAd,CAUD,CAED,QAASC,CAAAA,MAAT,EAAkB,CAEhB,GAAMC,CAAAA,MAAM,CAAG,kCAAf,CACA,GAAIC,CAAAA,MAAM,6DAAwDvB,IAAxD,mBAAsEsB,MAAtE,iBAAV,CACA1B,KAAK,CAAC4B,GAAN,CAAUD,MAAV,EAAkBE,IAAlB,CAAuBpB,cAAvB,EACD,CAED,QAASqB,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3BA,KAAK,CAACC,cAAN,GACAP,MAAM,GACP,CAED,QAASQ,CAAAA,gBAAT,CAA0BF,KAA1B,CAAgC,CAChC1B,OAAO,CAAC0B,KAAK,CAACG,MAAN,CAAaC,KAAd,CAAP,CACC,CAED,GAAI5B,WAAW,CAACD,KAAhB,CAAuB,CACrB,mBACM,aAAK,SAAS,CAAC,SAAf,wBACE,aAAM,QAAQ,CAAEwB,YAAhB,uBACE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,OAAf,uBACF,cAAO,IAAI,CAAC,QAAZ,CAAqB,WAAW,CAAC,gBAAjC,CAAkD,SAAS,CAAC,cAA5D,CAA2E,SAAS,CAAC,IAArF,CAA0F,QAAQ,CAAEG,gBAApG,EADE,EADF,cAIE,YAAK,SAAS,CAAC,OAAf,uBACF,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,CAAoC,SAAS,CAAC,uBAA9C,EADE,EAJF,GADF,EADF,cAWE,KAAC,WAAD,EAAa,IAAI,CAAE1B,WAAnB,EAXF,GADN,CAeD,CAhBD,IAgBO,CACLkB,MAAM,GACJ,MAAO,YAAP,CACH,CACA","sourcesContent":["import React, { useState } from \"react\";\nimport WeatherInfo from \"./WeatherInfo\";\nimport axios from \"axios\";\nimport \"./Weather.css\";\n\nexport default function Weather(props) {\n  const [city, setCity] = useState(props.defaultCity);\nconst [weatherData, setWeatherData] = useState({ready: false});\nfunction handleResponse(response) {\n  setWeatherData({\n    ready: true,\n    temperature: response.data.main.temp,\n    humidity: response.data.main.humidity,\n    date: new Date(response.data.dt * 1000),\n    description: response.data.weather[0].description,\n    icon: response.data.weather[0].icon,\n    wind: response.data.wind.speed,\n    city: response.data.name\n  });\n}\n\nfunction search() {\n\n  const apiKey = \"3a5b83d2290ca8aeea736a82a10e7ea7\";\n  let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;\n  axios.get(apiUrl).then(handleResponse);\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  search();\n}\n\nfunction handleCityChange(event){\nsetCity(event.target.value);\n}\n\nif (weatherData.ready) {\n  return (\n        <div className=\"Weather\">\n          <form onSubmit={handleSubmit}>\n            <div className=\"row\">\n              <div className=\"col-9\">\n            <input type=\"search\" placeholder=\"Search city...\" className=\"form-control\" autoFocus=\"on\" onChange={handleCityChange} />\n            </div>\n              <div className=\"col-3\">\n            <input type=\"submit\" value=\"Search\" className=\"btn btn-primary w-100\" />\n            </div>\n            </div>\n          </form>\n          <WeatherInfo data={weatherData} />\n            </div>\n    )\n} else {\n  search();\n    return \"Loading...\"\n}\n}"]},"metadata":{},"sourceType":"module"}